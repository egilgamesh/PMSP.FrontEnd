<div class="widget-group" layout="row" flex="100" layout-wrap>
<ms-widget ng-repeat="notification in vm.homeData.notifications.Cash4Work" flippable="true" layout="column" flex="100" flex-gt-xs="50" flex-gt-md="25">

  <!-- Front -->
  <ms-widget-front class="white-bg">
    <div class="ph-8 pv-16 h-55" layout="row" layout-align="space-between center">

      <md-menu>
        <md-button class="md-icon-button" ng-click="$mdOpenMenu()"
                   aria-label="more">
          <md-icon md-font-icon="icon-dots-vertical"></md-icon>
        </md-button>

        <md-menu-content width="3">
          <md-menu-item>
            <md-button ng-click="flipWidget()" aria-label="Flip widget">
              Details
            </md-button>
          </md-menu-item>
          <md-menu-item>
            <md-button ng-click="refreshWidget()" aria-label="Refresh widget">
              Refresh
            </md-button>
          </md-menu-item>
        </md-menu-content>
      </md-menu>
    </div>

    <div class="pt-8 pb-32" layout="column" layout-align="center center">

      <a ui-sref="{{notification.showURL}}">

        <div ng-class="notification.totalClass">
          {{notification.total}}
        </div>
      </a>
      <div class="h3 secondary-text font-weight-500"  style="text-align: center">{{notification.title}}</div>
    </div>

    <div class="p-16 grey-50-bg border-top" layout="row" layout-align="start center">
      <span class="h4 secondary-text text-truncate">{{notification.reviewedTitle}}:</span>
      <span class="h4 ml-8">{{notification.reviewed}}</span>
    </div>
  </ms-widget-front>
  <!-- / Front -->

  <!-- Back -->
  <ms-widget-back class="p-16 white-bg">
    <div class="flip-to-front">
      <md-button class="md-icon-button" ng-click="flipWidget()"
                 aria-label="Flip widget">
        <md-icon md-font-icon="icon-close" class="s16"></md-icon>
      </md-button>
    </div>

    <div>
      {{notification.detail}}
    </div>
  </ms-widget-back>
  <!-- / Back -->

</ms-widget>

  <div class="widget-group" layout="row" flex="100" layout-wrap>

    <!-- WIDGET 6 -->
    <ms-widget layout="column" flex="100" flex-gt-sm="50">

      <!-- Front -->
      <ms-widget-front class="white-bg">

        <div class="ph-16 border-bottom" layout="row" layout-align="space-between center">
          <div class="h3">{{vm.CashwidgetChart.title}}</div>
          <div class="pv-16">
            <md-select class="simplified" ng-model="vm.CashwidgetChart.currentRange"
                       ng-change="vm.CashwidgetChart.changeRange(vm.CashwidgetChart.currentRange)"
                       aria-label="Change range">
              <md-option ng-repeat="(key, range) in vm.CashwidgetChart.ranges"
                         value="{{key}}">
                {{range}}
              </md-option>
            </md-select>
          </div>
        </div>

        <div class="p-16">
          <nvd3 class="h-400"
                config="vm.CashwidgetChart.mainChart.config"
                options="vm.CashwidgetChart.mainChart.options"
                data="vm.CashwidgetChart.mainChart.data"></nvd3>
        </div>

        <div class="pv-8 mh-16 border-top" layout="row" layout-align="start center" layout-wrap>
          <div class="pv-8 border-right" layout="column" layout-align="center center"
               flex="100" flex-gt-xs="50">
            <span class="font-size-32">{{vm.CashwidgetChart.footerLeft.count[vm.CashwidgetChart.currentRange]}}</span>
            <span class="h4">{{vm.CashwidgetChart.footerLeft.title}}</span>
          </div>

          <div class="pv-8" layout="column" layout-align="center center" flex="100"
               flex-gt-xs="50">
            <span class="font-size-32">{{vm.CashwidgetChart.footerRight.count[vm.CashwidgetChart.currentRange]}}</span>
            <span class="h4">{{vm.CashwidgetChart.footerRight.title}}</span>
          </div>
        </div>

      </ms-widget-front>
      <!-- / Front -->

    </ms-widget>
    <!-- / WIDGET 6 -->

    <!-- WIDGET 7 -->
    <ms-widget layout="column" flex="100" flex-gt-sm="50">

      <!-- Front -->
      <ms-widget-front class="white-bg">

        <div class="ph-16 border-bottom" layout="row" layout-align="space-between center">
          <div class="h3">{{vm.CashwidgetInfo.title}}</div>

          <div class="pv-16">
            <md-select class="simplified" ng-model="vm.CashwidgetInfo.currentRange"
                       aria-label="Change range">
              <md-option ng-repeat="(key, range) in vm.CashwidgetInfo.ranges"
                         value="{{key}}">
                {{range}}
              </md-option>
            </md-select>
          </div>
        </div>

        <div class="p-16" layout="row" layout-align="space-between center"
             ng-repeat="event in vm.CashwidgetInfo.schedule[vm.CashwidgetInfo.currentRange]">
          <div>
            <div class="h3" style="color: {{event.color}}">{{event.title}}</div>
            <div>
              <span class="secondary-text" style="color: {{event.color}}">{{event.time}}</span>
              <span ng-if="event.location" style="color: {{event.color}}">, {{event.location}}</span>
            </div>
          </div>

          <md-button class="md-icon-button" aria-label="More information" ui-sref="{{event.url}}">
            <md-icon md-font-icon="icon-file-find"></md-icon>
          </md-button>
        </div>

      </ms-widget-front>
      <!-- / Front -->

    </ms-widget>
    <!-- / WIDGET 7 -->

  </div>

</div>

