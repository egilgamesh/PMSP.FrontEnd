<div class="widget-group" layout="row" flex="100" layout-wrap data-ng-init="vm.init('FFS')">
  <ms-widget ng-repeat="notification in vm.homeData.notifications.NewGeneralFFSTool" flippable="true" layout="column"
             flex="100" flex-gt-xs="50" flex-gt-md="25">

    <!-- Front -->
    <ms-widget-front class="white-bg">
      <div class="ph-8 pv-16 h-55" layout="row" layout-align="space-between center">

        <md-menu>
          <md-button class="md-icon-button" ng-click="$mdOpenMenu()"
                     aria-label="more">
            <md-icon md-font-icon="icon-dots-vertical"></md-icon>
          </md-button>

          <md-menu-content width="3">
            <md-menu-item>
              <md-button ng-click="flipWidget()" aria-label="Flip widget">
                Details
              </md-button>
            </md-menu-item>
            <md-menu-item>
              <md-button ng-click="refreshWidget()" aria-label="Refresh widget">
                Refresh
              </md-button>
            </md-menu-item>
          </md-menu-content>
        </md-menu>
      </div>

      <div class="pt-8 pb-32" layout="column" layout-align="center center">

        <a ui-sref="{{notification.showURL}}">

          <div ng-class="notification.totalClass">
            {{notification.total}}
          </div>
        </a>
        <div class="h3 secondary-text font-weight-500" style="text-align: center">{{notification.title}}</div>
      </div>

      <div class="p-16 grey-50-bg border-top" layout="row" layout-align="start center">
        <span class="h4 secondary-text text-truncate">{{notification.reviewedTitle}}:</span>
        <span class="h4 ml-8">{{notification.reviewed}}</span>
      </div>
    </ms-widget-front>
    <!-- / Front -->

    <!-- Back -->
    <ms-widget-back class="p-16 white-bg">
      <div class="flip-to-front">
        <md-button class="md-icon-button" ng-click="flipWidget()"
                   aria-label="Flip widget">
          <md-icon md-font-icon="icon-close" class="s16"></md-icon>
        </md-button>
      </div>

      <div>
        {{notification.detail}}
      </div>
    </ms-widget-back>
    <!-- / Back -->

  </ms-widget>


</div>


<div class="md-inline-form" style="margin-left: 30px; margin-right: 30px; margin-top: 50px">


  <p></p>

  <div layout="column" layout-gt-xs="row" flex>


    <md-input-container flex-gt-md="20">
      <label>Select from Date</label>
      <md-datepicker ng-model="fromDate" md-placeholder="From Date"></md-datepicker>

    </md-input-container>

    <md-input-container flex-gt-md="20">
      <label>Select to Date</label>
      <md-datepicker ng-model="toDate" md-placeholder="To Date"></md-datepicker>


    </md-input-container>

    <md-input-container flex-gt-md="20">
      <label>Filter By Activity Type</label>
      <md-select ng-model="selectActivity">
        <md-option value="Health Facility">Health Facility</md-option>
        <md-option value="Municipal Infrastructure">Municipal Infrastructure</md-option>
        <md-option value="Electricity Infrastructure">Electricity Infrastructure</md-option>
        <md-option value="Water Infrastructure">Water Infrastructure</md-option>
        <md-option value="Education Facility">Education Facility</md-option>
        <md-option value="Micro/Small Business Grants">Micro/Small Business Grants</md-option>
        <md-option value="House Repair">House Repair</md-option>
      </md-select>
    </md-input-container>

    <md-input-container flex-gt-md="20">
      <label>Filter By Province</label>
      <md-select ng-model="selectProvince">
        <md-option value="Anbar">Anbar</md-option>
        <md-option value="Ninewa">Ninewa</md-option>
        <md-option value="Salah al-Din">Salah al-Din</md-option>
      </md-select>
    </md-input-container>

  </div>

  <md-input-container flex-gt-md="30">
    <label></label>
  </md-input-container>

</div>


<header class="md-accent-bg" style="margin-left: 30px; margin-right: 30px">
  <button ng-click="selectProvince = initial; selectActivity = initial; toDate = initial; fromDate = initial" style="padding: 10px; text-align: center; color: white; display: inline-block;">UNDP/FFS Statistics - Filter Panel, click here to reset the filters!
  </button>
</header>

<infographic from-date="fromDate" to-date="toDate" select-activity="selectActivity" select-province="selectProvince"></infographic>

<amohammed-chart type="'date'" from-date="fromDate" to-date="toDate" select-activity="selectActivity" select-province="selectProvince"></amohammed-chart>
<amohammed-chart type="'province'" extra="'no'" from-date="fromDate" to-date="toDate" select-activity="selectActivity" select-province="selectProvince"></amohammed-chart>
<amohammed-chart type="'activity'" extra="'no'" from-date="fromDate" to-date="toDate" select-activity="selectActivity" select-province="selectProvince"></amohammed-chart>
<amohammed-chart type="'district'" extra="'no'" from-date="fromDate" to-date="toDate" select-activity="selectActivity" select-province="selectProvince"></amohammed-chart>

<div class="widget-group" layout="row" flex="100" layout-wrap></div>
<amohammed-pie-chart type="'activityType'" from-date="fromDate" to-date="toDate" select-activity="selectActivity" select-province="selectProvince"></amohammed-pie-chart>
<amohammed-pie-chart type="'province'" from-date="fromDate" to-date="toDate" select-activity="selectActivity" select-province="selectProvince"></amohammed-pie-chart>


<div id="dashboard-analytics" ng-show="vm.items.data" ng-if="vm.items.data.length">

  <!-- WIDGETS -->
  <div id="widgets">


    <!-- WIDGET GROUP -->
    <div class="widget-group" layout="row" flex="100" layout-wrap>

      <!-- WIDGET 2 -->
      <ms-widget flippable="false" layout="column" flex="100" flex-gt-md="100">

        <!-- Front -->
        <ms-widget-front class="white-bg">


          <div id="simple-table" class="page-layout simple fullwidth doc-page element-doc-page">

            <!-- HEADER -->
            <div class="header md-accent-bg" layout="row" layout-align="space-between">
              <div layout="column" layout-align="center start">
                <div class="title">USAID FFS SITE VISIT TRACKER</div>
              </div>
            </div>
            <!-- / HEADER -->

            <!-- CONTENT -->
            <!--<div class="content">-->
            <div class="page-layout simple fullwidth doc-page fixedByAli" layout="column" flex="100">
              <div class="simple-table-container md-whiteframe-4dp">
                <div>


                  <md-table-container>
                    <table md-table multiple ng-model="vm.selected" md-progress="vm.promise">
                      <thead md-head md-order="vm.query.order" md-on-reorder="vm.getItems">
                      <tr md-row>
                        <th md-column md-order-by="id"><span>ID</span></th>
                        <th md-column md-order-by="status"><span>Status </span></th>
                        <th md-column md-order-by="name"><span>Project name</span></th>
                        <th md-column md-order-by="location"><span>Location</span></th>
                        <th md-column md-order-by="stage"><span>Stage</span></th>
                        <th md-column md-order-by="gps"><span>Grid Coordinates</span></th>
                        <th md-column md-order-by="sector"><span>Sector</span></th>
                        <th md-column md-order-by="usaid_note"><span>USAID Notes </span></th>
                        <th md-column md-order-by="poc"><span>POCs </span></th>
                        <th md-column md-order-by="PMSP_note"><span>PMSP Notes </span></th>

                      </tr>
                      </thead>
                      <tbody md-body>

                      <tr md-row ng-repeat="item in vm.items.data">
                        <td md-cell>{{item.id}}</td>
                        <td md-cell>

                      <span class="text-boxed m-0 indigo-bg white-fg" ng-if="item.status == '' || item.status == null">
                       In Progress
                      </span>
                          <span class="text-boxed m-0 green-bg white-fg" ng-if="item.status == 'Completed'">
                        {{item.status}}
                      </span>

                          <span class="text-boxed m-0 green-bg white-fg"
                                ng-if="item.status == 'Completed and report uploaded'">
                        {{item.status}}
                      </span>


                          <span class="text-boxed m-0 red-bg white-fg" ng-if="item.status == 'Cancelled'">
                        {{item.status}}
                      </span>
                          <span class="text-boxed m-0 yellow-bg white-fg" ng-if="item.status == 'Pending'">
                        {{item.status}}
                      </span>

                          <span class="text-boxed m-0 yellow-bg white-fg" ng-if="item.status == 'Repeated'">
                        {{item.status}}
                      </span>


                        </td>
                        <td md-cell>{{item.name}}</td>
                        <td md-cell>{{item.location}}</td>
                        <td md-cell>{{item.stage}}</td>
                        <td md-cell>{{item.gps}}</td>
                        <td md-cell>{{item.sector}}</td>
                        <td md-cell>{{item.usaid_note}}</td>
                        <td md-cell>{{item.poc}}</td>


                        <td md-cell>{{item.PMSP_note}}</td>


                      </tr>
                      </tbody>
                    </table>
                  </md-table-container>

                  <md-table-pagination md-limit="vm.query.limit" md-limit-options="[20, 50, 100, 200]"
                                       md-page="vm.query.page" md-total="{{vm.items.count}}"
                                       md-on-paginate="vm.getItems" md-page-select></md-table-pagination>

                </div>
              </div>

            </div>
            <!-- / CONTENT -->

          </div>

        </ms-widget-front>
        <!-- / Front -->

      </ms-widget>
      <!-- / WIDGET 2 -->


    </div>
    <!-- / WIDGET GROUP -->


  </div>
</div>
